# ----------------------------------------------------------------------
# compiler options
# ----------------------------------------------------------------------

CXX= g++

CFLAGS_COMMON=-std=c++0x -g -O2 -I${HADOOP_HOME}/include -I${GRAPHLITE_HOME}/include
LIB_GRAPHALGO=-fPIC -shared

# ----------------------------------------------------------------------
# target
# ----------------------------------------------------------------------

all : svd

# ----------------------------------------------------------------------
# example graph algorithms
# ----------------------------------------------------------------------

EXAMPLE_ALGOS=SVD.so
svd: ${EXAMPLE_ALGOS}

%.so : %.cc
	${CXX} ${CFLAGS_COMMON} $< ${LIB_GRAPHALGO} -o $@
SVD.so : SVD.cc

# ----------------------------------------------------------------------
# clean up
# ----------------------------------------------------------------------

clean :
	rm -rf *.so
